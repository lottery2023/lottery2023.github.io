{"version":3,"sources":["./src/app/views/finance/finance-routing.module.ts","./src/app/views/finance/finance.module.ts","./src/app/views/finance/sales/sales.component.ts","./src/app/views/finance/sales/sales.component.html"],"names":[],"mappings":"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","file":"views-finance-finance-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport {AuthGuard} from '../../services/security/auth.guard';\nimport {SalesComponent} from './sales/sales.component';\n\n\n\nconst routes: Routes = [\n  {\n    path: 'sales',\n    canActivate: [AuthGuard],\n    component: SalesComponent\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class FinanceRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport {FinanceRoutingModule} from './finance-routing.module';\nimport {DemoMaterialModule} from '../../demo-material-module';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { SalesComponent } from './sales/sales.component';\n\n\n@NgModule({\n  declarations: [SalesComponent],\n  imports: [\n    CommonModule,\n    FinanceRoutingModule,\n    DemoMaterialModule,\n    ReactiveFormsModule,\n    FormsModule\n  ]\n})\nexport class FinanceModule { }\n","import {Component, Input, OnChanges, OnInit} from '@angular/core';\nimport {BaseSearchView} from '../../baseSearchView';\n\nimport {MatTableDataSource} from '@angular/material/table';\nimport {ApiService} from '../../../services/api.service';\nimport {AuthService} from '../../../services/security/auth.service';\nimport {Router} from '@angular/router';\n\n@Component({\n  selector: 'app-sales',\n  templateUrl: './sales.component.html'\n})\nexport class SalesComponent extends BaseSearchView implements OnInit, OnChanges {\n\n  @Input() loadChange: any;\n  @Input() showCardHeader: boolean = true;\n\n  entityApi = 'bets';\n  settings: any = {\n    query: {\n      table: 'vw_sales'\n    },\n    options: {\n      where: {\n      }\n    }\n  };\n\n  title: any;\n  subtitle: any;\n\n  displayedColumns: string[] = ['employeeCode', 'valor'];\n  filtersColumns: string[] = ['employeeCode'];\n  dataSource: MatTableDataSource<any>;\n\n  number: any;\n  createdDate = new Date();\n  filter: any;\n\n  constructor(private service: ApiService,\n              private authService: AuthService,\n              private router: Router) {\n    super();\n  }\n\n  ngOnInit(): void {\n\n    this.title = 'Ventas';\n    this.subtitle = 'Finanzas';\n\n    super.init(this);\n    super.onPageChange();\n  }\n\n  ngOnChanges(changes: any): void {\n\n    if (this.loadChange) {\n      super.onPageChange();\n    }\n  }\n\n  onEdit(row: any) {\n\n    this.router.navigate(['/bet', { betId: row.id }]);\n  }\n\n  getText(element: any) {\n\n\n    if (element == 'employeeCode') {\n      return 'Total';\n    }\n    else if (element == 'valor') {\n\n      if (this.dataSource && this.dataSource.data) {\n        return this.dataSource.data.reduce((accum, curr) => accum + curr.valor, 0);\n      }\n      else {\n        return '';\n      }\n    }\n    else\n    {\n      return '';\n    }\n  }\n\n  beforePageChange(): void {\n\n    if (this.createdDate) {\n\n      var datestring = this.createdDate.getDate()  + \"/\" + (this.createdDate.getMonth()+1) + \"/\" + this.createdDate.getFullYear();\n      // + \" \" +         this.createdDate.getHours() + \":\" + this.createdDate.getMinutes();\n\n      this.settings.options.where.createdDate = datestring;\n    }\n    else {\n      delete this.settings.options.where.createdDate;\n    }\n  }\n}\n","<div fxLayout=\"row\" fxLayoutWrap=\"wrap\">\n  <!-- column -->\n  <div fxFlex.gt-sm=\"100\" fxFlex.gt-xs=\"100\" fxFlex=\"100\">\n    <mat-card>\n      <mat-card-header *ngIf=\"showCardHeader\">\n        <mat-card-title>\n          <div fxLayout=\"row\" fxLayoutWrap=\"wrap\">\n            <!-- column -->\n            <div fxFlex.gt-sm=\"100\" fxFlex.gt-xs=\"100\">\n              {{title}}\n            </div>\n          </div>\n        </mat-card-title>\n        <mat-card-subtitle>\n          <div fxLayout=\"row\" fxLayoutWrap=\"wrap\">\n            <!-- column -->\n            <div fxFlex.gt-sm=\"100\" fxFlex.gt-xs=\"100\">\n              {{subtitle}}\n            </div>\n          </div>\n        </mat-card-subtitle>\n      </mat-card-header>\n      <mat-card-content>\n\n        <div fxLayout=\"row\" fxLayoutWrap=\"wrap\">\n          <div fxFlex.gt-sm=\"100\" fxFlex.gt-xs=\"100\" style=\"overflow: hidden;\">\n            <mat-form-field style=\"float: left;width: 30%; margin-right: 10px;\">\n              <input matInput (keyup.enter)=\"onPageChange()\" [(ngModel)]=\"filter\" placeholder=\"Filtrar\">\n            </mat-form-field>\n            <mat-form-field style=\"width: 30%; margin-right: 10px;\">\n              <mat-label>Seleccione fecha</mat-label>\n              <input matInput [matDatepicker]=\"picker\" [(ngModel)]=\"createdDate\">\n              <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n              <mat-datepicker #picker></mat-datepicker>\n            </mat-form-field>\n          </div>\n        </div>\n        <div fxLayout=\"row\" fxLayoutWrap=\"wrap\">\n          <div fxFlex.gt-sm=\"100\" fxFlex.gt-xs=\"100\" style=\"overflow: hidden;\">\n            <button mat-fab color=\"basic\"  (click)=\"onPageChange()\" style=\"float: left;\">Refrescar</button>\n          </div>\n        </div>\n\n        <table mat-table [dataSource]=\"dataSource\" matSort (matSortChange)=\"onSortChange($event)\" class=\"mat-elevation-z8\">\n\n          <!-- id Column -->\n          <ng-container matColumnDef=\"id\">\n            <th mat-header-cell *matHeaderCellDef> Id </th>\n            <td mat-cell *matCellDef=\"let element\"> {{element.id}} </td>\n          </ng-container>\n\n          <ng-container [matColumnDef]=\"column\" *ngFor=\"let column of displayedColumns\">\n            <th mat-header-cell *matHeaderCellDef> {{column}} </th>\n            <td mat-cell *matCellDef=\"let element\">\n              <span>{{element[column]}}</span>\n              <button *ngIf=\"column === 'actions'\" mat-button (click)=\"onEdit(element)\"><mat-icon>launch</mat-icon></button>\n              <button *ngIf=\"column === 'actions'\" mat-button color=\"warn\" (click)=\"onDelete(element)\"><mat-icon>delete_outline</mat-icon></button>\n            </td>\n            <td mat-footer-cell *matFooterCellDef>{{getText(column)}}</td>\n          </ng-container>\n\n          <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n          <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n          <tr mat-footer-row *matFooterRowDef=\"displayedColumns\"></tr>\n        </table>\n        <mat-paginator [length]=\"length\" [pageSize]=\"pageSize\" [pageSizeOptions]=\"pageSizeOptions\"\n                       (page)=\"onPaginatorChange($event)\" showFirstLastButtons>\n        </mat-paginator>\n      </mat-card-content>\n    </mat-card>\n  </div>\n</div>\n\n"],"sourceRoot":"webpack:///"}